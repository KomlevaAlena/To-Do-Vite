(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();class u{constructor(){this.loadedComponents=new Set}async init(){console.log("üîÑ Loading components..."),await this.loadAllComponents(),this.setupObserver(),console.log("‚úÖ All components loaded")}async loadAllComponents(){const t=document.querySelectorAll("[data-component]:not([data-loaded])");console.log(`Found ${t.length} new components to load`);for(const o of t){const e=o.getAttribute("data-component");this.loadedComponents.has(`${e}-${this.getComponentId(o)}`)||await this.loadComponent(o,e)}}getComponentId(t){return Array.from(t.parentNode.children).indexOf(t)}async loadComponent(t,o){try{console.log(`üì• Loading: ${o}`);const e=`/src/components/${o}/${o}.html?t=${Date.now()}`,n=await fetch(e);if(!n.ok)throw new Error(`HTTP ${n.status}`);const s=await n.text();if(!s||s.trim().length===0)throw new Error("Empty HTML content");console.log(`‚úÖ ${o} loaded, length: ${s.length} chars`),t.setAttribute("data-loaded","true"),this.loadedComponents.add(`${o}-${this.getComponentId(t)}`),t.innerHTML=s,await this.loadAllComponents()}catch(e){console.error(`‚ùå Failed to load ${o}:`,e),t.innerHTML=`
        <div class="component-error">
          <strong>Component Error:</strong> ${o}<br>
          Error: ${e.message}<br>
          Check: /src/components/${o}/${o}.html
        </div>
      `}}setupObserver(){new MutationObserver(o=>{let e=!1;o.forEach(n=>{n.addedNodes.length&&n.addedNodes.forEach(s=>{var l;s.nodeType===1&&((l=s.hasAttribute)!=null&&l.call(s,"data-component"))&&(e=!0)})}),e&&this.loadAllComponents()}).observe(document.body,{childList:!0,subtree:!0})}}document.addEventListener("DOMContentLoaded",()=>{new u().init()});class h{constructor(){this.spriteUrl="/sprite.svg",this.init()}async init(){try{console.log("üîÑ Loading SVG sprite...");const t=await fetch(this.spriteUrl);if(!t.ok)throw new Error("Sprite not found");const o=await t.text();this.injectSprite(o),this.replaceIcons(),console.log("‚úÖ SVG sprite loaded successfully")}catch(t){console.warn("‚ö†Ô∏è SVG sprite not found:",t.message),console.log("üí° Run: npm run build-sprite")}}injectSprite(t){const o=document.createElement("div");o.innerHTML=t,o.style.display="none",o.setAttribute("aria-hidden","true"),o.id="svg-sprite-container",document.body.appendChild(o)}replaceIcons(){const t=document.querySelectorAll("[data-icon]");console.log(`üîç Found ${t.length} icon placeholders`),t.forEach(o=>{const e=o.getAttribute("data-icon"),n=o.getAttribute("data-size")||"24",s=o.getAttribute("data-color")||"currentColor",l=o.getAttribute("class")||"",r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class",`icon icon-${e} ${l}`),r.setAttribute("width",n),r.setAttribute("height",n),r.setAttribute("fill",s);const a=document.createElementNS("http://www.w3.org/2000/svg","use");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`#icon-${e}`),r.appendChild(a),o.parentNode.replaceChild(r,o),console.log(`‚úÖ Replaced: ${e}`)})}}document.addEventListener("DOMContentLoaded",()=>{new h});class p{constructor(){this.todos=[],this.nextId=1}addTodo(t){if(!t||t.trim()==="")return null;const o={id:this.nextId++,text:t.trim(),completed:!1};return this.todos.push(o),o}removeTodo(t){const o=this.todos.findIndex(e=>e.id===t);return o!==-1?(this.todos.splice(o,1),!0):!1}getAllTodos(){return[...this.todos]}hasTodos(){return this.todos.length>0}}const d=new p;class m{constructor(){console.log("üëÅÔ∏è –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ"),this.todoListContainer=null,this.onDeleteCallback=null}setOnDeleteCallback(t){this.onDeleteCallback=t,console.log("‚úÖ –ö–æ–ª–±—ç–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")}findContainer(){return this.todoListContainer||(console.log("üîç –ò—â—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á..."),this.todoListContainer=document.querySelector(".todo-list__container"),this.todoListContainer?console.log("‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞–π–¥–µ–Ω:",this.todoListContainer):console.error("‚ùå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä .todo-list__container –Ω–µ –Ω–∞–π–¥–µ–Ω!")),this.todoListContainer}createTodoItem(t){const o=document.createElement("div");return o.className="todo-item",o.dataset.id=t.id,o.innerHTML=`
      <div class="todo-item__content">
        <span class="todo-item__text">${this.escapeHtml(t.text)}</span>
      </div>
      <button class="todo-item__delete" data-action="delete">üóëÔ∏è</button>
    `,o}escapeHtml(t){const o=document.createElement("div");return o.textContent=t,o.innerHTML}renderTodos(t){console.log("üé® –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é –∑–∞–¥–∞—á–∏:",t);const o=this.findContainer();if(!o){console.error("‚ùå –ù–µ –º–æ–≥—É –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");return}if(o.innerHTML="",t.length===0){const e=document.createElement("div");e.className="todo-list__empty",e.textContent="üìù –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø—É—Å—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É!",o.appendChild(e);return}t.forEach(e=>{const n=this.createTodoItem(e);o.appendChild(n)}),console.log("‚úÖ –ó–∞–¥–∞—á–∏ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã"),this.addDeleteHandlers()}addDeleteHandlers(){document.querySelectorAll(".todo-item__delete").forEach(o=>{o.addEventListener("click",e=>{e.stopPropagation();const n=o.closest(".todo-item"),s=parseInt(n.dataset.id);console.log("üóëÔ∏è –ü—ã—Ç–∞—é—Å—å —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É —Å id:",s),this.onDeleteCallback?this.onDeleteCallback(s):(console.warn("‚ö†Ô∏è –ù–µ—Ç –∫–æ–ª–±—ç–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è"),n.remove()),console.log("‚úÖ –ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≤—Ä–µ–º–µ–Ω–Ω–æ)")})})}}const c=new m;class g{constructor(){console.log("‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–æ–∑–¥–∞–Ω"),this.todoForm=null,this.todoInput=null,this.addButton=null,console.log("üìä –ú–æ–¥–µ–ª—å –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã")}init(){console.log("‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"),this.findElements(),this.todoForm?this.setupEventListeners():(console.log("‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ, –∏—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã..."),this.waitForComponents())}waitForComponents(){const t=setInterval(()=>{console.log("üîç –ü—Ä–æ–≤–µ—Ä—è—é –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤..."),this.findElements(),this.todoForm&&(console.log("üéâ –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã!"),clearInterval(t),this.setupEventListeners())},100)}findElements(){console.log("üîç –ò—â—É —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ..."),this.todoForm=document.querySelector(".todo-input__form"),this.todoInput=document.querySelector(".todo-input__field"),this.addButton=document.querySelector(".todo-input__button"),this.todoForm&&console.log("‚úÖ –§–æ—Ä–º–∞ –Ω–∞–π–¥–µ–Ω–∞:",this.todoForm)}setupEventListeners(){if(console.log("üéß –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π..."),!this.todoForm||!this.todoInput||!this.addButton){console.error("‚ùå –ù–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã!");return}console.log("‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ"),c.setOnDeleteCallback(this.handleDeleteTodo.bind(this)),this.todoForm.addEventListener("submit",t=>{console.log("üéØ –°–æ–±—ã—Ç–∏–µ submit —Å—Ä–∞–±–æ—Ç–∞–ª–æ!"),t.preventDefault();const o=this.todoInput.value;if(console.log("üìù –¢–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞:",o),o.trim()===""){console.log("‚ö†Ô∏è –ü—É—Å—Ç–∞—è –∑–∞–¥–∞—á–∞, –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º");return}console.log("üíæ –î–æ–±–∞–≤–ª—è—é –∑–∞–¥–∞—á—É –≤ –º–æ–¥–µ–ª—å...");const e=d.addTodo(o);if(e){console.log("‚úÖ –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –º–æ–¥–µ–ª—å:",e);const n=d.getAllTodos();console.log("üìã –í—Å–µ –∑–∞–¥–∞—á–∏ –≤ –º–æ–¥–µ–ª–∏:",n),c.renderTodos(n)}else console.log("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –≤ –º–æ–¥–µ–ª—å");this.todoInput.value="",console.log("üßπ –ü–æ–ª–µ –≤–≤–æ–¥–∞ –æ—á–∏—â–µ–Ω–æ"),this.todoInput.focus(),console.log("‚úÖ –ó–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞:",o)}),console.log("‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è submit –¥–æ–±–∞–≤–ª–µ–Ω")}handleDeleteTodo(t){if(console.log("üéØ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å id:",t),d.removeTodo(t)){console.log("‚úÖ –ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –º–æ–¥–µ–ª–∏");const e=d.getAllTodos();console.log("üìã –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á:",e),c.renderTodos(e)}else console.error("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É –∏–∑ –º–æ–¥–µ–ª–∏")}}const f=new g;console.log("üéØ Starting Components Collection...");console.log("‚úÖ SCSS styles imported");console.log("‚úÖ Components loader imported");console.log("‚úÖ SVG loader imported");console.log("üöÄ All modules loaded - waiting for components...");console.log("‚úÖ Todo Controller –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω");f.init();
